{
	"nodes": [
		{ "id": "embedding", "type": "aiembeddingnode", "docks": {
			"extractor": [ "extractor" ],
			"parser": [ "accountparser", "addressparser", "contactparser", "dateparser",
				"fileparser", "productparser", "projectparser", "resourceparser",
				"tagparser", "taskparser", "textparser", "parser" ],
			"chunker": [ "chunker" ],
			"embedder": [ "embeddingcache" ],
			"vectordb": [ "vectordb" ],
			"logger": [ "logger" ]
		}, "inputs": {
			"mode": "replace",
			"debug": true,
			"debug_preview_len": 180
		}}
	],
	"resources": [
		{ "id": "extractor", "type": "xrmembeddingqueueextractoragentresource", "config": {
			"claim_limit": { "mode": "fixed", "value": 5 }
		}},

		{ "id": "accountparser", "type": "xrmaccountmetaparseragentresource" },
		{ "id": "addressparser", "type": "xrmaddressmetaparseragentresource" },
		{ "id": "contactparser", "type": "xrmcontactmetaparseragentresource" },
		{ "id": "dateparser", "type": "xrmdatemetaparseragentresource" },
		{ "id": "fileparser", "type": "xrmfilemetaparseragentresource" },
		{ "id": "productparser", "type": "xrmproductmetaparseragentresource" },
		{ "id": "projectparser", "type": "xrmprojectmetaparseragentresource" },
		{ "id": "resourceparser", "type": "xrmresourcemetaparseragentresource" },
		{ "id": "tagparser", "type": "xrmtagmetaparseragentresource" },
		{ "id": "taskparser", "type": "xrmtaskmetaparseragentresource" },
		{ "id": "textparser", "type": "xrmtextmetaparseragentresource" },
		{ "id": "parser", "type": "structuredobjectparseragentresource" },

		{ "id": "chunker", "type": "xrmchunkeragentresource", "config": {
			"max_length": { "mode": "fixed", "value": 2000 },
			"min_length": { "mode": "fixed", "value": 500 },
			"overlap": { "mode": "fixed", "value": 50 }
		}},

		{ "id": "embeddingcache", "type": "embeddingcacheagentresource", "docks": {
			"embedding": [ "embedder" ]
		}, "config": {
			"model": { "mode": "fixed", "value": "text-embedding-3-small" }
		}},
		{ "id": "embedder", "type": "openaiembeddingmodelagentresource", "config": {
			"apikey": { "mode": "config", "section": "openai", "key": "apikey" },
			"model": { "mode": "fixed", "value": "text-embedding-3-small" }
		}},

		{ "id": "vectordb", "type": "qdrantvectorstoreagentresource", "config": {
			"endpoint": { "mode": "config", "section": "qdrant", "key": "endpoint" },
			"apikey": { "mode": "config", "section": "qdrant", "key": "apikey" },
			"create_payload_indexes": { "mode": "fixed", "value": true }
		}},

		{ "id": "logger", "type": "loggerresource" }
	]
}
